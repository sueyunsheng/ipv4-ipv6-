# ipv4-ipv6-
1.判断输入的字符串是否是合法的IP地址
2.如果是合法的IP地址表达，请判断是v4还是v6地址，并将其展开为对应的2进制串输出
3.如果不是合法的IP地址表达，判断输入的字符串是否是合法的地址范围表达式，如"192.168.0.0/24"、“::1/128”
4.如果是合法的地址范围表达式，输出其最小和最大地址，以及地址总数
5.如果既不是合法的IP地址也不是合法的地址范围表达式，输出“不合法”

想法：

1.判断ip是否合法：用python的re模块，用正则表达式匹配①输入的IP地址，不符合则返回-1，符合判断是IPv4还是IPv6，分别返回1和2。Ipv4的正则表达式参考②的想法，IPv6根据IPv4的想法自己写出来的。

2.根据返回的数字，如果是合法的IP地址，则到对应的函数将其展开为二进制形式，若返回的是-1，则判断是否是合法的地址范围表达式。

3.IPv4转为二进制，实现方式：先将uip这一字符串以‘.’进行分割，然后调用map函数实现字符串列表转为整型列表，参考③的map函数用法，然后使用format格式化函数④将整型列表转为二进制字符串并在前面补零，补齐8位。最后进行字符串拼接，在中间加‘.’符号，输出即为IPv4的二进制展开。

4.IPv6转为二进制：处理方式和IPv4相似，但对于零缩法表达的IPv4，要先扩展成正常的IPv6形式。然后将十六进制字符列表转为整型列表，然后转为二进制字符串列表，合并列表，输出结果即为二进制扩展表达

5.IPv6扩展：先计算出零缩法的IPv6的非零数的个数，然后对应地构造一个字符串，该字符串是扩展的0，然后通过replace函数替换uip的“：：”字符串，获得扩展的IPv6地址。“：：”在末尾，则应用“:0:0:...:0”替换；“：：”在字符串开头，则用“0:0...:0”替换；“：：”在字符串中间位置，则用“:0:...:0”替换。

6.合法IP地址范围表达式判断：IPjudge函数根据返回-1的结果，进入到该函数执行判断是否是合法IP地址范围表达式。首先通过find函数查找是否含有“/”字符，若无则返回false，输出不合法。然后对“/”字符后面的字符串判断，通过isdigit函数判断是否为数字，以及判断“/”前面的字符串是否为合法ip，若不是，则返回false，输出不合法。若是，根据judge函数返回的结果判断是ipv4还是ipv6。对于ipv4，“/”后的数字不能超过32，将该ipv4地址转为二进制格式，判断从num（num为“/”后的数字，即子网掩码）到32的数字情况，全0表示其为网段，非全零表示其为IPv4的地址，输出。全零情况下，参考计算机网络群里的讨论以及网络关于网段的资料，去掉全0和全1的情况，得到的最大地址和最小地址的二进制形式，并转为十进制形式输出。输出结果在测试样例中详解。Ipv6处理情况与Ipv4相似。
